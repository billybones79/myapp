var disable_steps, enable_step;

window.replace_checkout_step = function(step, partial, error) {

    disable_steps(true);
    if (partial != null) {

        step.html(partial);
    }
    if (!error) {
        step.find('form.edit_order').prepend("<p class='checkout-error'>" + error + "</p>");
    }
    return enable_step(step);
};

enable_step = function(element) {
    element.removeClass("disabled-step");
    element.find("form input").removeAttr("disabled");
    element.find("#checkout-summary, .errorExplanation").show();

    if (element.data('step') === 'address') {
        Spree.onAddress();
    }
    if (element.data('step') === 'payment') {
        Spree.onPayment();
    }
};

disable_steps = function(all) {
    var elements;
    elements = all != null ? $(".checkout_content") : $(".checkout_content.disabled-step");
    elements.addClass("disabled-step");
    //elements.find("form input").attr("disabled", "disabled");
    return elements.find("#checkout-summary, .errorExplanation").hide();
};

Spree.ready(function($) {
    if (($('#checkout')).is('*')) {
        return disable_steps();
    }
});

// ---
// generated by coffee-script 1.9.0